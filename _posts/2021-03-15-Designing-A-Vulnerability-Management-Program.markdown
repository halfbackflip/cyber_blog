---
layout: post
title:  "Designing A Vulnerability Management Program"
date:   2021-03-13 05:58:00 +1100
categories: cysa 
permalink: /:categories/:title
published: true
---

## Activity 4.1: Install a Vulnerability Scanner

In this excercise I will install Nessus on a Kali Linux VM. After installation, I will run a vulnerability scan on an unpatched version of Windows Server 2019 and the Metapsloitable VM.

### Steps

1. Visit Nessus in order to obtain an [activation code](https://www.tenable.com/products/nessus/activation-code). Its free. Put your email in and done!

2. Download the correct version of Nessus.
As Kali Linux is based on Debian Linux, I will download that version.

3. In order to install on Kali, first open a terminal as root. Navigate to the directory where Nessus was downloaded. 
Run the below install command or refer to the documentation for the correct command to run.
![Nessus Install](\assets\img\nessus1.jpg)

4. Start the Nessus Scanner by typing `# /bin/systemctl start nessusd.service` for Debian, Kali or Ubunutu. 
Red Hat, CentOS, Oracle Linux, Fedora, SUSE and FreeBSD can use `# service nessusd start`

5. Complete the install from the webbrowser by visiting the URL stated in the terminal. In my case it is "https://kali:8834/." 
Make sure you have your activation code ready. 

![Nessus Install](\assets\img\nessus2.jpg)

Once you create a username and password, Nessus will reach out and install the required plugins. 
Grab some popcorn this can take some time. 

![Nessus Install](\assets\img\nessus3.jpg)

## Activity 4.2: Run a Vulnerability Scan

Running a vulnerability scan from Tenable is easy.

1. Login to your Nessus Server via the URL provided after install. Mine was "https://kali:8834/."

4. Select New Scan > Basic Network Scan

5. Input the hosts you would like scanned into here. In this situation I will select:
* 10.0.2.4 - The Metasploitable VM
* 10.0.2.6 - The Windows VM
![Nessus Scan](\assets\img\nessus5.jpg)
Once the scan is created, launch the scan.

6. Here are the results! You can click the report button in the corner for a nice pretty report in the formant of your choice.
![Nessus Scan](\assets\img\nessus6.jpg)

7. As this is a non-credentialed scan, what happens when we add credentials to our scan?
I will create a new credentialed scan for my Windows VM. Create a new scane. Under the credentials tab, add the credentials for our Windows Server.
Note: In a production environment, you would create a service account for this purpose.
![Nessus Scan](\assets\img\nessus9.jpg)

8. Lets review the results. We are able to get greater insight and view more vulnerabilities by running the credentialed scan.

Credentialed Scan: 260 Vulnerabilities
![Nessus Scan](\assets\img\nessus7.jpg)

Un-Credentialed Scan: 51 Vulnerabilities
![Nessus Scan](\assets\img\nessus8.jpg)

## Glossary

A glossary of all the terms, acronyms and slang I run across for this chapter.

<table>
{% for item in site.data.designingavulnerabilitymanagementprogram %}
    <tr>
        <td>{{item.Term}}</td> 
        <td>{{item.Definition}}</td>
    </tr>
{% endfor %}
</table>